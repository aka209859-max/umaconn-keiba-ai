# ğŸ¯ NAR-SI Ver.3.0 çµ±åˆå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

**ä½œæˆæ—¥æ™‚**: 2026-01-08  
**ä½œæˆè€…**: Enable AIæˆ¦ç•¥ãƒãƒ¼ãƒ   
**ç›®çš„**: CEOç’°å¢ƒã®NAR-SI Ver.3.0ã‚’ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ç’°å¢ƒã«çµ±åˆ

---

## âœ… çµ±åˆå®Œäº†

### ğŸ“‚ çµ±åˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

```
/home/user/webapp/nar-ai-yoso/core/
â”œâ”€â”€ nar_si_calculator_v2_1_b.py         â† Ver.2.1-Bï¼ˆãƒãƒ©ãƒ³ã‚¹ç‰ˆãƒ»æœ€å„ªç§€ï¼‰
â”œâ”€â”€ nar_si_v3.py                        â† Ver.3.0çµ±åˆç‰ˆï¼ˆç°¡æ˜“å®Ÿè£…ï¼‰
â”œâ”€â”€ nar_si_v3_data_fetcher.py           â† éå»3èµ°ãƒ‡ãƒ¼ã‚¿å–å¾—
â””â”€â”€ nar_si_v3_feature_engineering.py    â† ç‰¹å¾´é‡ç”Ÿæˆ
```

### ğŸ“Š NAR-SI Ver.3.0ã®å®Ÿç¸¾

**CEOç’°å¢ƒã§ã®æ¤œè¨¼çµæœï¼ˆ2024å¹´ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ï¼‰ï¼š**

| æŒ‡æ¨™ | Model Aï¼ˆå—é–¢æ±4å ´ï¼‰ | Model Bï¼ˆãã®ä»–ï¼‰ | ç›®æ¨™ | é”æˆåº¦ |
|------|-------------------|----------------|------|--------|
| **å˜å‹çš„ä¸­ç‡** | 28.11% | 32.30% | 28-32% | âœ… |
| **3ç€å†…ç‡** | 58.84% | 64.05% | 60-70% | âš ï¸/âœ… |
| **å˜å‹ROI** | **216.4%** | **219.3%** | 85%+ | âœ…âœ… |
| **NDCG@1** | 0.4518 | 0.5052 | 0.28+ | âœ… |

### ğŸ”¥ é‡è¦ãªç™ºè¦‹

1. **Ver.2.1-Bï¼ˆãƒãƒ©ãƒ³ã‚¹ç‰ˆï¼‰ãŒæœ€å„ªç§€**
   - 3ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆA/B/Cï¼‰ã®ä¸­ã§æœ€é«˜ç²¾åº¦
   - å˜å‹çš„ä¸­ç‡: 24.0%
   - è¤‡å‹åœå†…ç‡: 51.1%

2. **Ver.3.0ã§å¤§å¹…æ”¹å–„**
   - Ver.2.1-B â†’ Ver.3.0ã§çš„ä¸­ç‡ãŒ4-8ptå‘ä¸Š
   - 24.0% â†’ 28-32%
   - ROI 216-219%é”æˆï¼ˆç›®æ¨™85%ã®2.5å€ï¼‰

3. **éå»3èµ°ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®æœ‰åŠ¹æ€§**
   - éå»3èµ°ã®NAR-SIå€¤ã‚’æ©Ÿæ¢°å­¦ç¿’ï¼ˆLightGBMï¼‰ã§å­¦ç¿’
   - ãƒˆãƒ¬ãƒ³ãƒ‰æŠŠæ¡ã€ç•°å¸¸å€¤é™¤å¤–ã€æ¡ä»¶é©æ€§åæ˜ 

---

## ğŸ“‹ ç¾åœ¨ã®å®Ÿè£…çŠ¶æ³

### âœ… å®Œæˆã—ã¦ã„ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ« | çŠ¶æ…‹ | ãƒ‡ãƒ¼ã‚¿ä¾å­˜ |
|---|---|---|---|
| **4ã¤ã®åŸºç¤æŒ‡æ•°** | index_calculator.py | âœ… å®Œæˆ | nvd_seï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ï¼‰ |
| **HQSï¼ˆç›¸å¯¾è©•ä¾¡ï¼‰** | hqs_calculator.py | âœ… å®Œæˆ | 4ã¤ã®åŸºç¤æŒ‡æ•° + 31ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼ |
| **RGSï¼ˆçµ¶å¯¾è©•ä¾¡ï¼‰** | rgs_calculator.py | âœ… å®Œæˆ | ãƒ•ã‚¡ã‚¯ã‚¿ãƒ¼çµ±è¨ˆãƒ‡ãƒ¼ã‚¿ |
| **NAR-SI Ver.2.1-B** | nar_si_calculator_v2_1_b.py | âœ… çµ±åˆæ¸ˆã¿ | CEOç’°å¢ƒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| **NAR-SI Ver.3.0** | nar_si_v3_*.py | âœ… çµ±åˆæ¸ˆã¿ | nar_si_race_results ãƒ†ãƒ¼ãƒ–ãƒ« |

### âš ï¸ æœªå®Œæˆã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | çŠ¶æ…‹ | ç†ç”± |
|---|---|---|
| **çµ±åˆã‚¹ã‚³ã‚¢è¨ˆç®—** | âŒ æœªå®Ÿè£… | NAR-SI Ver.3.0ã¨ã®çµ±åˆå¾…ã¡ |
| **main.pyçµ±åˆ** | âŒ æœªå®Ÿè£… | æœ€çµ‚ã‚·ã‚¹ãƒ†ãƒ åŒ–æ™‚ã«å®Ÿæ–½ |

---

## ğŸ” ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã«ã¤ã„ã¦

### CEOç’°å¢ƒã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

```python
# config/db_config.pyï¼ˆCEOç’°å¢ƒï¼‰
DB_CONFIG = {
    'host': 'localhost',
    'port': 5432,
    'user': 'postgres',
    'password': 'keiba2025',
    'dbname': 'pckeiba'
}
```

### nar_si_race_results ãƒ†ãƒ¼ãƒ–ãƒ«

```
âœ… ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°: 268,854ä»¶
âœ… å¯¾è±¡æœŸé–“: 2023-2024å¹´ï¼ˆ2å¹´åˆ†ï¼‰
âœ… å¯¾è±¡ãƒ¬ãƒ¼ã‚¹: ç´„27,000ãƒ¬ãƒ¼ã‚¹
âœ… æœ€çµ‚æ›´æ–°: 2024å¹´12æœˆ31æ—¥
```

**ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿:**
```
æ—¥ä»˜      å ´ R  é¦¬ç•ª NAR-SI
----------------------------------------
20241231 54 11   02   69.4  â† é«˜çŸ¥ç«¶é¦¬å ´
20241231 54 11   08   72.9
20241231 54 11   07   73.0
20241231 54 11   12   75.0
20241231 54 11   09   75.0
```

---

## ğŸ“‚ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ï¼ˆçµ±åˆå¾Œï¼‰

```
/home/user/webapp/nar-ai-yoso/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ index_calculator.py              â† 4ã¤ã®åŸºç¤æŒ‡æ•°ï¼ˆå®Œæˆï¼‰
â”‚   â”œâ”€â”€ hqs_calculator.py                â† HQSè¨ˆç®—ï¼ˆå®Œæˆï¼‰
â”‚   â”œâ”€â”€ rgs_calculator.py                â† RGSè¨ˆç®—ï¼ˆå®Œæˆï¼‰
â”‚   â”œâ”€â”€ nar_si_calculator_v2_1_b.py      â† Ver.2.1-Bï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ nar_si_v3.py                     â† Ver.3.0ç°¡æ˜“å®Ÿè£…
â”‚   â”œâ”€â”€ nar_si_v3_data_fetcher.py        â† éå»3èµ°å–å¾—ï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ nar_si_v3_feature_engineering.py â† ç‰¹å¾´é‡ç”Ÿæˆï¼ˆçµ±åˆæ¸ˆã¿ï¼‰
â”‚   â”œâ”€â”€ ten_3f_estimator.py              â† å‰åŠ3Fæ¨å®šï¼ˆå®Œæˆï¼‰
â”‚   â””â”€â”€ ...
â”œâ”€â”€ models/
â”‚   â””â”€â”€ ten_3f_lgbm_model.pkl            â† LightGBMãƒ¢ãƒ‡ãƒ«
â”œâ”€â”€ main.py                               â† ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ README.md
â””â”€â”€ NAR_SI_INTEGRATION_SUMMARY.md        â† ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆå°†æ¥ã®æœ€çµ‚ã‚·ã‚¹ãƒ†ãƒ åŒ–æ™‚ï¼‰

### Phase 1: çµ±åˆã‚¹ã‚³ã‚¢å®Ÿè£…ï¼ˆæœªå®Ÿæ–½ï¼‰

```python
# core/integrated_scorer.pyï¼ˆå°†æ¥ä½œæˆï¼‰
def calculate_final_score(nar_si, hqs, rgs):
    """
    çµ±åˆã‚¹ã‚³ã‚¢: NAR-SI 50% + HQS 15% + RGS 35%
    """
    return nar_si * 0.5 + hqs * 0.15 + rgs * 0.35
```

### Phase 2: main.pyä¿®æ­£ï¼ˆæœªå®Ÿæ–½ï¼‰

- NAR-SI Ver.3.0å‘¼ã³å‡ºã—è¿½åŠ 
- çµ±åˆã‚¹ã‚³ã‚¢è¨ˆç®—ã‚’è¿½åŠ 
- å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆä¿®æ­£

### Phase 3: å‹•ä½œæ¤œè¨¼ï¼ˆæœªå®Ÿæ–½ï¼‰

- CEOç’°å¢ƒãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®æ¥ç¶šç¢ºèª
- nar_si_race_results ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿å–å¾—ç¢ºèª
- çµ±åˆã‚¹ã‚³ã‚¢è¨ˆç®—ã®æ¤œè¨¼

---

## ğŸ“Š Ver.2.1 3ãƒ‘ã‚¿ãƒ¼ãƒ³æ¯”è¼ƒçµæœï¼ˆå‚è€ƒï¼‰

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | å˜å‹çš„ä¸­ç‡ | è¤‡å‹åœå†…ç‡ | è©•ä¾¡ | ç‰¹å¾´ |
|---------|-----------|-----------|------|------|
| Ver.2.1-Aï¼ˆã‚·ãƒ³ãƒ—ãƒ«åŒ–ç‰ˆï¼‰ | 23.8% | 50.6% | ğŸ”¶ | æ–¤é‡+æ é †ã®ã¿ |
| **Ver.2.1-Bï¼ˆãƒãƒ©ãƒ³ã‚¹ç‰ˆï¼‰** | **24.0%** | **51.1%** | **âœ… æœ€å„ªç§€** | å…¨è£œæ­£ã€é©æ­£åŒ– |
| Ver.2.1-Cï¼ˆå¼·åŒ–ç‰ˆï¼‰ | 23.4% | 50.4% | ğŸ”¶ | è£œæ­£å€¤10å€ |

**çµè«–: Ver.2.1-BãŒæœ€ã‚‚å®‰å®šã—ãŸæ€§èƒ½**

---

## ğŸ’¡ æŠ€è¡“çš„ç™ºè¦‹

### Ver.2.1ã®3å¤§æ¬ é™¥

1. **ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆ1ç‚¹ã®ã¿ï¼ˆå‰èµ°ã®ã¿ï¼‰ã‚’ä½¿ç”¨**
   - èª¿å­ã®æ³¢ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ï¼‰ã‚’æ‰ãˆã‚‰ã‚Œãªã„
   - ç•°å¸¸å€¤ã®å½±éŸ¿ã‚’å—ã‘ã‚„ã™ã„

2. **å›å¸°ã¸ã®å¹³å‡ï¼ˆRegression to the Meanï¼‰ã‚’ç„¡è¦–**
   - æ¥µç«¯ãªæˆç¸¾ã¯å¹³å‡ã«æˆ»ã‚‹å‚¾å‘ã‚’è€ƒæ…®ã—ã¦ã„ãªã„

3. **ç•°ãªã‚‹æ¡ä»¶ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥æ¯”è¼ƒ**
   - ç•°ãªã‚‹ç«¶é¦¬å ´ãƒ»è·é›¢ãƒ»é¦¬å ´çŠ¶æ…‹ã®NAR-SIã‚’åŒæ¡ä»¶ã¨ã—ã¦æ‰±ã†

### Ver.3.0ã®æ”¹å–„

1. **éå»3èµ°ã®ãƒ‘ã‚¿ãƒ¼ãƒ³å­¦ç¿’**
   - ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’æ‰ãˆã‚‹
   - ç•°å¸¸å€¤ã‚’é™¤å¤–
   - æ¡ä»¶é©æ€§ã‚’åæ˜ 

2. **æ©Ÿæ¢°å­¦ç¿’ï¼ˆLightGBMï¼‰ã®å°å…¥**
   - ãƒ©ãƒ³ã‚­ãƒ³ã‚°å•é¡Œã«æœ€é©
   - ç‰¹å¾´é‡ã®é‡è¦åº¦ã‚’å¯è¦–åŒ–å¯èƒ½

---

## ğŸ”— å‚è€ƒè³‡æ–™

### CEOç’°å¢ƒã®ãƒ¬ãƒãƒ¼ãƒˆ

```
E:\UmaData\nar-analytics-python-v2\
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ ver3_0_development_progress_report_20260106.md  â† Ver.3.0é€²æ—
â”‚   â”œâ”€â”€ gemini_report_summary_nar_si_v21.md            â† Ver.2.1ã‚µãƒãƒªãƒ¼
â”‚   â””â”€â”€ venue_specific_advantage_factors_report.md     â† ç«¶é¦¬å ´åˆ¥åˆ†æ
â”œâ”€â”€ FINAL_REPORT_WITH_REAL_ODDS.md                     â† å®Ÿã‚ªãƒƒã‚ºç‰ˆãƒ¬ãƒãƒ¼ãƒˆ
â”œâ”€â”€ PROJECT_REPORT.md
â””â”€â”€ FINAL_REPORT.md
```

### GitHub

- **ãƒªãƒã‚¸ãƒˆãƒª**: https://github.com/aka209859-max/umaconn-keiba-ai

---

## âš ï¸ é‡è¦ãªæ³¨æ„äº‹é …

### ä»Šå›ã®ä½œæ¥­ç¯„å›²

âœ… **å®Ÿæ–½ã—ãŸã“ã¨:**
- CEOç’°å¢ƒã®NAR-SI Ver.3.0ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚µãƒ³ãƒ‰ãƒœãƒƒã‚¯ã‚¹ã«çµ±åˆ
- ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€å…ƒç®¡ç†ï¼ˆ/home/user/webapp/nar-ai-yoso/core/ï¼‰
- çµ±åˆå®Œäº†ãƒ¬ãƒãƒ¼ãƒˆã®ä½œæˆ

âŒ **å®Ÿæ–½ã—ã¦ã„ãªã„ã“ã¨:**
- æœ¬ç•ªã‚·ã‚¹ãƒ†ãƒ åŒ–
- main.pyã®å¤§å¹…ä¿®æ­£
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã®å¤‰æ›´
- çµ±åˆã‚¹ã‚³ã‚¢è¨ˆç®—ã®å®Ÿè£…
- å‹•ä½œæ¤œè¨¼

### ç†ç”±

**CEOã®æŒ‡ç¤º:**
> "ã¾ã å®Œæˆã˜ã‚ƒãªã„ã‹ã‚‰ãªã€‚ã“ã‚Œã¯ã¾ã é€”ä¸­ã§ã‚ã‚Šã€ä¿å­˜å ´æ‰€ã®çµ±åˆã€‚æœ€çµ‚çš„ã«ã¯ã‚·ã‚¹ãƒ†ãƒ åŒ–ã—ã¾ã™"

**æ–¹é‡:**
- ä»Šå›ã¯ã€Œä¿å­˜å ´æ‰€ã®çµ±åˆã€ã®ã¿
- æœ€çµ‚çš„ãªã‚·ã‚¹ãƒ†ãƒ åŒ–ã¯åˆ¥é€”å®Ÿæ–½

---

## ğŸ¯ CEOã¸ã®ç¢ºèªäº‹é …

### çµ±åˆå®Œäº†ã®ç¢ºèª

âœ… **ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒçµ±åˆã•ã‚Œã¾ã—ãŸ:**

1. `core/nar_si_calculator_v2_1_b.py` ï¼ˆ6.8KBï¼‰
2. `core/nar_si_v3_data_fetcher.py` ï¼ˆ11KBï¼‰
3. `core/nar_si_v3_feature_engineering.py` ï¼ˆ9.5KBï¼‰

### æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

**Option A: Git commitã§è¨˜éŒ²ã‚’æ®‹ã™**
```bash
cd /home/user/webapp/nar-ai-yoso
git add core/nar_si_calculator_v2_1_b.py
git add core/nar_si_v3_data_fetcher.py
git add core/nar_si_v3_feature_engineering.py
git add NAR_SI_INTEGRATION_SUMMARY.md
git commit -m "âœ… NAR-SI Ver.3.0çµ±åˆå®Œäº†ï¼ˆä¿å­˜å ´æ‰€ã®ä¸€å…ƒç®¡ç†ï¼‰"
```

**Option B: æ¬¡ã®æŒ‡ç¤ºã‚’å¾…ã¤**

---

**Play to Win. 10x Mindset. ğŸš€**

**ä½œæˆè€…**: Enable AIæˆ¦ç•¥ãƒãƒ¼ãƒ   
**æ›´æ–°æ—¥**: 2026å¹´1æœˆ8æ—¥
